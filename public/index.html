<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>GPTube ì‹¤ì‹œê°„ ë°©ì†¡ MVP</title>
  <style>
    body{background:#f5f7fb;color:#111;font-family:system-ui,Segoe UI,sans-serif;margin:0}
    h1{color:#2563eb;margin:14px 16px}
    .wrap{max-width:1100px;margin:0 auto;padding:0 12px 24px}
    .toolbar{display:flex;gap:8px;align-items:center;margin:8px 0 12px}
    .toolbar .left{display:flex;gap:8px;align-items:center}
    input,button{padding:8px 12px;border-radius:8px;border:1px solid #cbd5e1;background:#fff}
    input{min-width:180px}
    button{background:#2563eb;color:#fff;border-color:#1e40af;cursor:pointer}
    button:hover{filter:brightness(1.05)}
    .stage{display:grid;grid-template-columns:1fr 1fr;gap:14px}
    .pane{position:relative;background:#0b0b0b;border:1px solid #334155;border-radius:10px;padding:10px;height:min(38vh,420px)}
    video{width:100%;height:100%;background:#111;border:2px solid #9ec5ff;border-radius:10px;object-fit:cover}
    .pane h3{position:absolute;top:8px;left:12px;margin:0;color:#cbd5e1;font-size:13px}
    .badge{background:#1e293b;color:#9ec5ff;border:1px solid #334155;padding:4px 8px;border-radius:12px;font-size:12px}
    /* ì±„íŒ… */
    #chatContainer{margin-top:12px}
    #chatBox{height:180px;overflow-y:auto;background:#111;color:#eee;border:1px solid #334155;border-radius:8px;padding:8px}
    #chatInput{width:70%}
    .chat-message{background:#f5f7fb;color:#111;margin:6px 0;padding:6px 10px;border-radius:8px;font-size:14px}
    .hint{opacity:.8;margin-top:8px}
    /* ì´ëª¨ì§€ ì˜¤ë²„ë ˆì´ */
    .overlay{pointer-events:none;position:absolute;inset:0}
    .emoji{position:absolute;font-size:38px;animation:rise 1.2s ease-out forwards}
    @keyframes rise{0%{transform:translateY(10px);opacity:.95}100%{transform:translateY(-60px);opacity:0}}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>ğŸ¥ GPTube <b>ì‹¤ì‹œê°„ ë°©ì†¡</b> MVP</h1>

    <div class="toolbar">
      <div class="left">
        <input id="nickInput" type="text" placeholder="ë‹‰ë„¤ì„ (ì˜ˆ: haekwang)" />
        <input id="roomInput" type="text" placeholder="ë°© ì½”ë“œ (ì˜ˆ: test123)" />
        <button id="joinBtn">ë°© ë§Œë“¤ê¸°/ì…ì¥</button>
        <button id="leaveBtn">ë‚˜ê°€ê¸°</button>
      </div>
      <span class="badge" id="statusBadge">ëŒ€ê¸° ì¤‘</span>
      <div style="flex:1"></div>
      <button id="muteBtn">ìŒì†Œê±°</button>
      <button id="switchCamBtn">ì¹´ë©”ë¼ ë„ê¸°</button>
      <button id="shareBtn">í™”ë©´ ê³µìœ </button>
    </div>

    <div class="stage">
      <div class="pane">
        <h3>ë‚´ í™”ë©´</h3>
        <div class="overlay" id="overlayLocal"></div>
        <video id="localVideo" autoplay playsinline muted></video>
      </div>
      <div class="pane">
        <h3>ìƒëŒ€ í™”ë©´</h3>
        <div class="overlay" id="overlayRemote"></div>
        <video id="remoteVideo" autoplay playsinline></video>
      </div>
    </div>

    <!-- ì´ëª¨ì§€ ë¦¬ì•¡ì…˜ -->
    <div class="toolbar" style="margin-top:10px">
      <span class="badge">ë¦¬ì•¡ì…˜:</span>
      <button class="react" data-emoji="ğŸ‘">ğŸ‘</button>
      <button class="react" data-emoji="â¤ï¸">â¤ï¸</button>
      <button class="react" data-emoji="ğŸ˜‚">ğŸ˜‚</button>
      <button class="react" data-emoji="ğŸ‰">ğŸ‰</button>
    </div>

    <!-- ì±„íŒ… -->
    <div id="chatContainer">
      <h3>ğŸ’¬ ì‹¤ì‹œê°„ ì±„íŒ…</h3>
      <div id="chatBox"></div>
      <div class="toolbar">
        <input id="chatInput" type="text" placeholder="ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”" />
        <button id="sendBtn">ë³´ë‚´ê¸°</button>
      </div>
      <div class="hint">ê°™ì€ ë°© ì½”ë“œë¡œ ë‘ ê¸°ê¸°(ë˜ëŠ” ë‘ ë¸Œë¼ìš°ì € íƒ­)ì—ì„œ ì ‘ì†í•˜ë©´ ì—°ê²°ë©ë‹ˆë‹¤.</div>
    </div>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="client.js"></script>
</body>
</html>
